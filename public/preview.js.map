{
  "version": 3,
  "sources": ["../src/model/types.ts", "../src/plates/radialFlow.ts", "../src/export/svg.ts", "../src/types/controls.ts", "../src/renderer/preview.ts"],
  "sourcesContent": ["// Core geometric and ornament data structures for the Sullivan ornament engine.\n\nexport interface Vec2 {\n  x: number;\n  y: number;\n}\n\nexport interface Rect {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport type PathCommand =\n  | { type: 'M'; p: Vec2 }\n  | { type: 'L'; p: Vec2 }\n  | { type: 'Q'; p1: Vec2; p: Vec2 }\n  | { type: 'C'; p1: Vec2; p2: Vec2; p: Vec2 }\n  | { type: 'Z' };\n\nexport interface Path {\n  commands: PathCommand[];\n  closed: boolean;\n}\n\nexport type OrnamentNodeType =\n  | 'container'\n  | 'axis'\n  | 'stem'\n  | 'leaf'\n  | 'medallion'\n  | 'overlay'\n  | 'auxiliary';\n\nexport interface Transform {\n  tx: number;\n  ty: number;\n  rotation: number; // radians\n  scaleX: number;\n  scaleY: number;\n}\n\nexport function identityTransform(): Transform {\n  return {\n    tx: 0,\n    ty: 0,\n    rotation: 0,\n    scaleX: 1,\n    scaleY: 1,\n  };\n}\n\nexport interface OrnamentNode {\n  id: string;\n  type: OrnamentNodeType;\n\n  plateOrigin?: number;   // e.g. 1 for Plate 1\n  stepInPlate?: number;   // step within a plate, if applicable\n  role?: string;          // 'main-axis', 'grid-line', 'petal', ...\n\n  params: Record<string, number | string | boolean>;\n\n  transform: Transform;\n  paths: Path[];\n  children: OrnamentNode[];\n}\n\nexport interface OrnamentResult {\n  root: OrnamentNode;\n  bounds: Rect; // normalized coordinate bounds, e.g. -1..1\n}\n\n// Helpers for building paths\n\nexport function moveTo(x: number, y: number): PathCommand {\n  return { type: 'M', p: { x, y } };\n}\n\nexport function lineTo(x: number, y: number): PathCommand {\n  return { type: 'L', p: { x, y } };\n}\n\nexport function quadTo(cx: number, cy: number, x: number, y: number): PathCommand {\n  return { type: 'Q', p1: { x: cx, y: cy }, p: { x, y } };\n}\n\nexport function cubicTo(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x: number,\n  y: number\n): PathCommand {\n  return { type: 'C', p1: { x: x1, y: y1 }, p2: { x: x2, y: y2 }, p: { x, y } };\n}\n\nexport function closePath(): PathCommand {\n  return { type: 'Z' };\n}\n\n// Axis-aligned rectangle path, starting at (x,y)\nexport function rectPath(x: number, y: number, width: number, height: number): Path {\n  const cmds: PathCommand[] = [];\n  cmds.push(moveTo(x, y));\n  cmds.push(lineTo(x + width, y));\n  cmds.push(lineTo(x + width, y + height));\n  cmds.push(lineTo(x, y + height));\n  cmds.push(closePath());\n  return { commands: cmds, closed: true };\n}\n\n/**\n * Ellipse centered at origin, axis-aligned, using 4 cubic B\u00E9zier segments.\n * rx, ry are radii along x and y.\n */\nexport function ellipsePath(rx: number, ry: number): Path {\n  const kappa = 0.5522847498307936; // control point constant\n\n  const cmds: PathCommand[] = [];\n\n  // Start at (rx, 0)\n  cmds.push(moveTo(rx, 0));\n\n  // Four cubic segments around the ellipse\n  cmds.push(cubicTo(\n    rx, kappa * ry,\n    kappa * rx, ry,\n    0, ry\n  ));\n\n  cmds.push(cubicTo(\n    -kappa * rx, ry,\n    -rx, kappa * ry,\n    -rx, 0\n  ));\n\n  cmds.push(cubicTo(\n    -rx, -kappa * ry,\n    -kappa * rx, -ry,\n    0, -ry\n  ));\n\n  cmds.push(cubicTo(\n    kappa * rx, -ry,\n    rx, -kappa * ry,\n    rx, 0\n  ));\n\n  cmds.push(closePath());\n\n  return { commands: cmds, closed: true };\n}\n", "import {\n  OrnamentNode,\n  OrnamentResult,\n  Path,\n  Vec2,\n  identityTransform,\n  ellipsePath,\n  moveTo,\n  lineTo,\n  quadTo,\n  closePath,\n  rectPath,\n} from '../model/types';\nimport { EdgeDecorationStyle, FlowMotif, FlowToolSettings, NodeDecorationType } from '../types/flow';\n\ninterface RadialData {\n  angle: number;\n  dir: Vec2;\n  normal: Vec2;\n  end: Vec2;\n}\n\nexport function generateRadialFlowScene(settings: FlowToolSettings): OrnamentResult {\n  const circleRadius = clamp(settings.circleRadius ?? 0.65, 0.25, 0.98);\n  const polygonSides = clampInt(settings.polygonSides ?? 6, 3, 18);\n  const polygonRotation = degToRad(settings.polygonRotation ?? 0);\n  const radialMultiplier = clampInt(settings.radialMultiplier ?? 1, 1, 4);\n  const radialCount = clampInt(polygonSides * radialMultiplier, polygonSides, 96);\n  const radialData = buildRadialData(radialCount, polygonRotation, circleRadius);\n  const polygonVertices = buildPolygonVertices(circleRadius, polygonSides, polygonRotation);\n\n  const pushAmount = clamp01(settings.pushAmount ?? 0);\n  const pullAmount = clamp01(settings.pullAmount ?? 0);\n  const subCenterDepth = clampInt(settings.subCenterDepth ?? 0, 0, 4);\n  const subCenterRadiusRatio = clamp(settings.subCenterRadius ?? 0.35, 0.05, 0.85);\n  const subCenterSides = clampInt(settings.subCenterSides ?? 4, 3, 12);\n\n  const nodeSize = clamp(settings.nodeSize ?? 0.18, 0.01, 0.6);\n  const edgeBulge = clamp01(settings.edgeBulge ?? 0.3);\n  const edgeRepeat = clampInt(settings.edgeRepeat ?? 0, 0, 16);\n  const lineDiamondWidth = clamp(settings.lineDiamondWidth ?? 0.2, 0.01, 0.8);\n\n  const structuralEnabled = settings.showStructuralLayer !== false;\n  const ornamentEnabled = settings.showOrnamentLayer !== false;\n\n  const extent = computeExtent(\n    circleRadius,\n    pushAmount,\n    subCenterDepth,\n    subCenterRadiusRatio,\n    nodeSize,\n    edgeBulge,\n    settings.lineDiamondsEnabled ? lineDiamondWidth : 0\n  );\n\n  const root: OrnamentNode = {\n    id: 'radial-flow-root',\n    type: 'container',\n    plateOrigin: 1,\n    role: 'radial-flow',\n    stepInPlate: 0,\n    params: {},\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  const structureLayer = createLayerNode('flow-structure', 'structure-layer', structuralEnabled);\n  const ornamentLayer = createLayerNode('flow-ornament', 'ornament-layer', ornamentEnabled);\n\n  if (structuralEnabled) {\n    if (settings.showBaseCircle) {\n      structureLayer.paths.push(ellipsePath(circleRadius, circleRadius));\n    }\n\n    if (settings.showCross) {\n      structureLayer.children.push(createCrossNode(circleRadius));\n    }\n\n    if (settings.showPolygon) {\n      structureLayer.children.push(createPolygonNode(polygonVertices));\n    }\n\n    if (settings.showRadials) {\n      structureLayer.children.push(createRadialsNode(circleRadius, radialCount, polygonRotation));\n    }\n\n    if (subCenterDepth > 0) {\n      const subCenterRadius = circleRadius * subCenterRadiusRatio;\n      const subCenters = createSubCenterGroup({\n        depth: subCenterDepth,\n        radius: subCenterRadius,\n        anchorRadius: circleRadius,\n        radialCount,\n        baseRotation: polygonRotation,\n        sides: subCenterSides,\n        radiate: settings.radiateSubCenters,\n      });\n      if (subCenters) {\n        structureLayer.children.push(subCenters);\n      }\n    }\n  }\n\n  if (ornamentEnabled) {\n    if (settings.enablePush && pushAmount > 0) {\n      ornamentLayer.children.push(\n        createPushMotifNode(circleRadius, radialCount, polygonRotation, pushAmount, settings.pushMotif)\n      );\n    }\n\n    if (settings.enablePull && pullAmount > 0) {\n      ornamentLayer.children.push(\n        createPullMotifNode(circleRadius, radialCount, polygonRotation, pullAmount)\n      );\n    }\n\n    const nodeDecorations = createNodeDecorationNode(\n      settings.nodeDecorationType,\n      nodeSize,\n      radialData,\n      circleRadius\n    );\n    if (nodeDecorations) {\n      ornamentLayer.children.push(nodeDecorations);\n    }\n\n    const edgeDecorations = createEdgeDecorationNode(\n      settings.edgeDecorationStyle,\n      edgeRepeat,\n      edgeBulge,\n      radialData,\n      circleRadius,\n      nodeSize\n    );\n    if (edgeDecorations) {\n      ornamentLayer.children.push(edgeDecorations);\n    }\n\n    if (settings.lineDiamondsEnabled) {\n      const diamonds = createLineDiamondsNode(lineDiamondWidth, polygonVertices);\n      if (diamonds) {\n        ornamentLayer.children.push(diamonds);\n      }\n    }\n  }\n\n  if (structureLayer.paths.length || structureLayer.children.length) {\n    root.children.push(structureLayer);\n  }\n  if (ornamentLayer.paths.length || ornamentLayer.children.length) {\n    root.children.push(ornamentLayer);\n  }\n\n  return {\n    root,\n    bounds: makeBounds(extent),\n  };\n}\n\nfunction createPolygonNode(vertices: Vec2[]): OrnamentNode {\n  const path = polygonPathFromVertices(vertices);\n  return {\n    id: 'flow-dividing-polygon',\n    type: 'auxiliary',\n    plateOrigin: 1,\n    role: 'dividing-polygon',\n    stepInPlate: 1,\n    params: { sides: vertices.length },\n    transform: identityTransform(),\n    paths: [path],\n    children: [],\n  };\n}\n\nfunction polygonPathFromVertices(vertices: Vec2[]): Path {\n  const commands = [];\n  vertices.forEach((vertex, index) => {\n    if (index === 0) {\n      commands.push(moveTo(vertex.x, vertex.y));\n    } else {\n      commands.push(lineTo(vertex.x, vertex.y));\n    }\n  });\n  commands.push(closePath());\n  return { commands, closed: true };\n}\n\nfunction createRadialsNode(radius: number, count: number, rotation: number): OrnamentNode {\n  const node: OrnamentNode = {\n    id: 'flow-radials',\n    type: 'axis',\n    plateOrigin: 1,\n    role: 'radial-energy',\n    stepInPlate: 2,\n    params: { count },\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  const reach = radius * 1.08;\n  for (let i = 0; i < count; i++) {\n    const angle = rotation + (2 * Math.PI * i) / count;\n    const x = Math.cos(angle) * reach;\n    const y = Math.sin(angle) * reach;\n    node.paths.push({\n      commands: [moveTo(0, 0), lineTo(x, y)],\n      closed: false,\n    });\n  }\n\n  return node;\n}\n\nfunction createCrossNode(radius: number): OrnamentNode {\n  const reach = Math.max(radius * 1.35, radius + 0.2);\n  const node: OrnamentNode = {\n    id: 'flow-cross',\n    type: 'axis',\n    plateOrigin: 1,\n    role: 'circle-cross',\n    stepInPlate: 1,\n    params: {},\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  node.paths.push({\n    commands: [moveTo(-reach, 0), lineTo(reach, 0)],\n    closed: false,\n  });\n  node.paths.push({\n    commands: [moveTo(0, -reach), lineTo(0, reach)],\n    closed: false,\n  });\n\n  return node;\n}\n\nfunction createPushMotifNode(\n  baseRadius: number,\n  radialCount: number,\n  rotation: number,\n  amount: number,\n  motif: FlowMotif = 'square'\n): OrnamentNode {\n  const group: OrnamentNode = {\n    id: 'flow-push-motifs',\n    type: 'overlay',\n    plateOrigin: 1,\n    role: 'push-motif',\n    stepInPlate: 3,\n    params: { motif },\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  const motifSize = 0.08 + amount * 0.18;\n  const radius = baseRadius * (1 + amount * 0.45);\n  const motifPath = createMotifPath(motif, motifSize);\n\n  for (let i = 0; i < radialCount; i++) {\n    const angle = rotation + (2 * Math.PI * i) / radialCount;\n    const x = Math.cos(angle) * radius;\n    const y = Math.sin(angle) * radius;\n    group.children.push({\n      id: `push-${i}`,\n      type: 'overlay',\n      plateOrigin: 1,\n      role: 'push-instance',\n      stepInPlate: 3,\n      params: { angle },\n      transform: {\n        tx: x,\n        ty: y,\n        rotation: angle + Math.PI / 2,\n        scaleX: 1,\n        scaleY: 1,\n      },\n      paths: [motifPath],\n      children: [],\n    });\n  }\n\n  return group;\n}\n\nfunction createPullMotifNode(\n  baseRadius: number,\n  radialCount: number,\n  rotation: number,\n  amount: number\n): OrnamentNode {\n  const group: OrnamentNode = {\n    id: 'flow-pull-motifs',\n    type: 'overlay',\n    plateOrigin: 1,\n    role: 'pull-motif',\n    stepInPlate: 3,\n    params: {},\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  const innerRadius = baseRadius * (1 - 0.6 * amount);\n  const radius = (baseRadius + innerRadius) / 2;\n  const motifSize = 0.06 + amount * 0.16;\n  const motifPath = createPullMotifPath(motifSize);\n\n  for (let i = 0; i < radialCount; i++) {\n    const angle = rotation + (2 * Math.PI * i) / radialCount;\n    const x = Math.cos(angle) * radius;\n    const y = Math.sin(angle) * radius;\n    group.children.push({\n      id: `pull-${i}`,\n      type: 'overlay',\n      plateOrigin: 1,\n      role: 'pull-instance',\n      stepInPlate: 3,\n      params: { angle },\n      transform: {\n        tx: x,\n        ty: y,\n        rotation: angle + Math.PI,\n        scaleX: 1,\n        scaleY: 1,\n      },\n      paths: [motifPath],\n      children: [],\n    });\n  }\n\n  return group;\n}\n\nfunction createMotifPath(kind: FlowMotif, size: number): Path {\n  switch (kind) {\n    case 'diamond': {\n      const h = size;\n      const w = size * 0.65;\n      return {\n        commands: [\n          moveTo(0, -h),\n          lineTo(w, 0),\n          lineTo(0, h),\n          lineTo(-w, 0),\n          closePath(),\n        ],\n        closed: true,\n      };\n    }\n    case 'lobe': {\n      return ellipsePath(size * 0.5, size * 0.9);\n    }\n    case 'pyramid': {\n      return {\n        commands: [\n          moveTo(-size * 0.6, size * 0.5),\n          lineTo(size * 0.6, size * 0.5),\n          lineTo(0, -size * 0.65),\n          closePath(),\n        ],\n        closed: true,\n      };\n    }\n    case 'square':\n    default:\n      return rectPath(-size / 2, -size / 2, size, size);\n  }\n}\n\nfunction createPullMotifPath(size: number): Path {\n  const width = size * 0.5;\n  const height = size * 1.4;\n  return {\n    commands: [\n      moveTo(0, -height * 0.5),\n      lineTo(width, 0),\n      lineTo(0, height * 0.5),\n      lineTo(-width, 0),\n      closePath(),\n    ],\n    closed: true,\n  };\n}\n\ninterface SubCenterOptions {\n  depth: number;\n  radius: number;\n  anchorRadius: number;\n  radialCount: number;\n  baseRotation: number;\n  sides: number;\n  radiate: boolean;\n}\n\nfunction createSubCenterGroup(options: SubCenterOptions): OrnamentNode | null {\n  if (options.depth <= 0 || options.radius <= 0) {\n    return null;\n  }\n\n  const group: OrnamentNode = {\n    id: 'flow-sub-centers',\n    type: 'container',\n    plateOrigin: 1,\n    role: 'sub-centers',\n    stepInPlate: 4,\n    params: { depth: options.depth },\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  for (let i = 0; i < options.radialCount; i++) {\n    const angle = options.baseRotation + (2 * Math.PI * i) / options.radialCount;\n    const x = Math.cos(angle) * options.anchorRadius;\n    const y = Math.sin(angle) * options.anchorRadius;\n    const transform = identityTransform();\n    transform.tx = x;\n    transform.ty = y;\n    const node = createSubCenterNode(\n      `sub-center-${i}`,\n      options.depth,\n      options.radius,\n      options.sides,\n      options.radiate,\n      transform\n    );\n    group.children.push(node);\n  }\n\n  return group;\n}\n\nfunction createSubCenterNode(\n  id: string,\n  depth: number,\n  radius: number,\n  sides: number,\n  radiate: boolean,\n  transform = identityTransform()\n): OrnamentNode {\n  const node: OrnamentNode = {\n    id,\n    type: 'container',\n    plateOrigin: 1,\n    role: 'sub-center',\n    stepInPlate: 4 - depth,\n    params: { radius, depth },\n    transform,\n    paths: [ellipsePath(radius * 0.4, radius * 0.4)],\n    children: [],\n  };\n\n  if (radiate) {\n    node.children.push(createLocalRadialsNode(radius, sides));\n  }\n\n  if (depth > 1) {\n    const childRadius = radius * 0.6;\n    for (let i = 0; i < sides; i++) {\n      const angle = (2 * Math.PI * i) / sides;\n      const childTransform = identityTransform();\n      childTransform.tx = Math.cos(angle) * radius;\n      childTransform.ty = Math.sin(angle) * radius;\n      childTransform.rotation = 0;\n      const child = createSubCenterNode(\n        `${id}-${i}`,\n        depth - 1,\n        childRadius,\n        sides,\n        radiate,\n        childTransform\n      );\n      node.children.push(child);\n    }\n  }\n\n  return node;\n}\n\nfunction createLocalRadialsNode(radius: number, sides: number): OrnamentNode {\n  const node: OrnamentNode = {\n    id: 'sub-center-radials',\n    type: 'axis',\n    plateOrigin: 1,\n    role: 'sub-center-radial',\n    stepInPlate: 4,\n    params: { sides },\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  for (let i = 0; i < sides; i++) {\n    const angle = (2 * Math.PI * i) / sides;\n    const x = Math.cos(angle) * radius;\n    const y = Math.sin(angle) * radius;\n    node.paths.push({\n      commands: [moveTo(0, 0), lineTo(x, y)],\n      closed: false,\n    });\n  }\n\n  return node;\n}\n\nfunction makeBounds(extent: number) {\n  return {\n    x: -extent,\n    y: -extent,\n    width: extent * 2,\n    height: extent * 2,\n  };\n}\n\nfunction computeExtent(\n  circleRadius: number,\n  pushAmount: number,\n  subCenterDepth: number,\n  subCenterRadiusRatio: number,\n  nodeSize: number,\n  edgeBulge: number,\n  lineDiamondWidth: number\n): number {\n  let extent = circleRadius * (1.1 + nodeSize * 0.8);\n  extent = Math.max(extent, circleRadius * (1 + edgeBulge * 0.5));\n  extent = Math.max(extent, circleRadius * (1 + lineDiamondWidth));\n\n  const pushReach = circleRadius * (1 + pushAmount * 0.6);\n  extent = Math.max(extent, pushReach);\n\n  if (subCenterDepth > 0 && subCenterRadiusRatio > 0) {\n    let offset = circleRadius;\n    let currentRadius = circleRadius * subCenterRadiusRatio;\n\n    for (let depth = 0; depth < subCenterDepth; depth++) {\n      offset += currentRadius;\n      currentRadius *= 0.6;\n    }\n\n    extent = Math.max(extent, offset);\n  }\n\n  return Math.max(extent, 1.6);\n}\n\nfunction createLayerNode(id: string, role: string, enabled: boolean): OrnamentNode {\n  return {\n    id,\n    type: 'container',\n    plateOrigin: 1,\n    role,\n    stepInPlate: 0,\n    params: { enabled },\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n}\n\nfunction buildRadialData(count: number, rotation: number, radius: number): RadialData[] {\n  const data: RadialData[] = [];\n  for (let i = 0; i < count; i++) {\n    const angle = rotation + (2 * Math.PI * i) / count;\n    const dir = { x: Math.cos(angle), y: Math.sin(angle) };\n    const normal = { x: -dir.y, y: dir.x };\n    const end = { x: dir.x * radius, y: dir.y * radius };\n    data.push({ angle, dir, normal, end });\n  }\n  return data;\n}\n\nfunction buildPolygonVertices(radius: number, sides: number, rotation: number): Vec2[] {\n  const vertices: Vec2[] = [];\n  for (let i = 0; i < sides; i++) {\n    const angle = rotation + (2 * Math.PI * i) / sides;\n    vertices.push({\n      x: Math.cos(angle) * radius,\n      y: Math.sin(angle) * radius,\n    });\n  }\n  return vertices;\n}\n\nfunction createNodeDecorationNode(\n  type: NodeDecorationType,\n  sizeRatio: number,\n  radials: RadialData[],\n  circleRadius: number\n): OrnamentNode | null {\n  if (type === 'none' || sizeRatio <= 0 || !radials.length) {\n    return null;\n  }\n\n  const size = circleRadius * sizeRatio;\n  const path = createNodeDecorationPath(type, size);\n  const node: OrnamentNode = {\n    id: 'node-decorations',\n    type: 'overlay',\n    plateOrigin: 1,\n    role: 'node-decoration',\n    stepInPlate: 4,\n    params: { type, size },\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  // center decoration\n  node.children.push({\n    id: 'node-center',\n    type: 'overlay',\n    plateOrigin: 1,\n    role: 'node-center',\n    stepInPlate: 4,\n    params: {},\n    transform: identityTransform(),\n    paths: [path],\n    children: [],\n  });\n\n  radials.forEach((radial, index) => {\n    node.children.push({\n      id: `node-${index}`,\n      type: 'overlay',\n      plateOrigin: 1,\n      role: 'node-ray',\n      stepInPlate: 4,\n      params: { angle: radial.angle },\n      transform: {\n        tx: radial.end.x,\n        ty: radial.end.y,\n        rotation: radial.angle,\n        scaleX: 1,\n        scaleY: 1,\n      },\n      paths: [path],\n      children: [],\n    });\n  });\n\n  return node;\n}\n\nfunction createNodeDecorationPath(type: NodeDecorationType, size: number): Path {\n  switch (type) {\n    case 'circle':\n      return ellipsePath(size * 0.5, size * 0.5);\n    case 'square':\n      return rectPath(-size / 2, -size / 2, size, size);\n    case 'petal': {\n      const petal = ellipsePath(size * 0.35, size * 0.65);\n      return petal;\n    }\n    case 'custom': {\n      const w = size * 0.6;\n      const h = size;\n      return {\n        commands: [\n          moveTo(0, -h / 2),\n          lineTo(w / 2, -h / 4),\n          lineTo(w / 2, h / 4),\n          lineTo(0, h / 2),\n          lineTo(-w / 2, h / 4),\n          lineTo(-w / 2, -h / 4),\n          closePath(),\n        ],\n        closed: true,\n      };\n    }\n    case 'none':\n    default:\n      return ellipsePath(size * 0.5, size * 0.5);\n  }\n}\n\nfunction createEdgeDecorationNode(\n  style: EdgeDecorationStyle,\n  repeats: number,\n  bulge: number,\n  radials: RadialData[],\n  circleRadius: number,\n  sizeRatio: number\n): OrnamentNode | null {\n  if (style === 'straight' || repeats <= 0 || !radials.length) {\n    return null;\n  }\n\n  const span = circleRadius * Math.max(0.04, sizeRatio * 0.25);\n\n  const node: OrnamentNode = {\n    id: 'edge-ornaments',\n    type: 'overlay',\n    plateOrigin: 1,\n    role: 'edge-decoration',\n    stepInPlate: 4,\n    params: { style, repeats },\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  radials.forEach((radial, index) => {\n    for (let r = 0; r < repeats; r++) {\n      const t = (r + 1) / (repeats + 1);\n      const base = {\n        x: radial.dir.x * circleRadius * t,\n        y: radial.dir.y * circleRadius * t,\n      };\n      const lateral = span * (0.8 + r * 0.05);\n\n      if (style === 'arched') {\n        const start = {\n          x: base.x - radial.normal.x * lateral,\n          y: base.y - radial.normal.y * lateral,\n        };\n        const end = {\n          x: base.x + radial.normal.x * lateral,\n          y: base.y + radial.normal.y * lateral,\n        };\n        const control = {\n          x: base.x + radial.dir.x * (bulge * lateral * 1.4),\n          y: base.y + radial.dir.y * (bulge * lateral * 1.4),\n        };\n        node.paths.push({\n          commands: [moveTo(start.x, start.y), quadTo(control.x, control.y, end.x, end.y)],\n          closed: false,\n        });\n      } else if (style === 'double') {\n        const gap = span * (0.4 + bulge * 0.5);\n        const startA = {\n          x: base.x - radial.dir.x * span,\n          y: base.y - radial.dir.y * span,\n        };\n        const endA = {\n          x: base.x + radial.dir.x * span,\n          y: base.y + radial.dir.y * span,\n        };\n        const offsetA = {\n          x: radial.normal.x * gap,\n          y: radial.normal.y * gap,\n        };\n        const offsetB = {\n          x: -offsetA.x,\n          y: -offsetA.y,\n        };\n\n        node.paths.push({\n          commands: [\n            moveTo(startA.x + offsetA.x, startA.y + offsetA.y),\n            lineTo(endA.x + offsetA.x, endA.y + offsetA.y),\n          ],\n          closed: false,\n        });\n        node.paths.push({\n          commands: [\n            moveTo(startA.x + offsetB.x, startA.y + offsetB.y),\n            lineTo(endA.x + offsetB.x, endA.y + offsetB.y),\n          ],\n          closed: false,\n        });\n      }\n    }\n  });\n\n  return node.paths.length ? node : null;\n}\n\nfunction createLineDiamondsNode(widthRatio: number, vertices: Vec2[]): OrnamentNode | null {\n  if (widthRatio <= 0 || vertices.length < 2) {\n    return null;\n  }\n\n  const node: OrnamentNode = {\n    id: 'line-diamonds',\n    type: 'overlay',\n    plateOrigin: 1,\n    role: 'line-diamonds',\n    stepInPlate: 4,\n    params: { widthRatio },\n    transform: identityTransform(),\n    paths: [],\n    children: [],\n  };\n\n  const count = vertices.length;\n  for (let i = 0; i < count; i++) {\n    const start = vertices[i];\n    const end = vertices[(i + 1) % count];\n    const edgeX = end.x - start.x;\n    const edgeY = end.y - start.y;\n    const length = Math.hypot(edgeX, edgeY);\n    if (length === 0) {\n      continue;\n    }\n    const dir = { x: edgeX / length, y: edgeY / length };\n    const normal = { x: -dir.y, y: dir.x };\n    const mid = { x: (start.x + end.x) / 2, y: (start.y + end.y) / 2 };\n    const offsetMagnitude = length * widthRatio;\n    const offset = { x: normal.x * offsetMagnitude, y: normal.y * offsetMagnitude };\n\n    const diamondPath: Path = {\n      commands: [\n        moveTo(start.x, start.y),\n        lineTo(mid.x + offset.x, mid.y + offset.y),\n        lineTo(end.x, end.y),\n        lineTo(mid.x - offset.x, mid.y - offset.y),\n        closePath(),\n      ],\n      closed: true,\n    };\n\n    node.paths.push(diamondPath);\n  }\n\n  return node.paths.length ? node : null;\n}\n\nfunction clamp(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(max, value));\n}\n\nfunction clamp01(value: number): number {\n  return clamp(value, 0, 1);\n}\n\nfunction clampInt(value: number, min: number, max: number): number {\n  const v = Math.floor(value);\n  return Math.max(min, Math.min(max, v));\n}\n\nfunction degToRad(value: number): number {\n  return (value * Math.PI) / 180;\n}\n\n\n", "import { Vec2, Rect, PathCommand, OrnamentResult, OrnamentNode, OrnamentNodeType, Transform } from '../model/types';\n\ninterface Mat2D {\n  a: number; b: number;\n  c: number; d: number;\n  e: number; f: number;\n}\n\nconst IDENTITY_MATRIX: Mat2D = {\n  a: 1, b: 0,\n  c: 0, d: 1,\n  e: 0, f: 0,\n};\n\nfunction matFromTransform(t: Transform): Mat2D {\n  const cos = Math.cos(t.rotation);\n  const sin = Math.sin(t.rotation);\n\n  const a = cos * t.scaleX;\n  const b = sin * t.scaleX;\n  const c = -sin * t.scaleY;\n  const d = cos * t.scaleY;\n  const e = t.tx;\n  const f = t.ty;\n\n  return { a, b, c, d, e, f };\n}\n\nfunction matMul(m1: Mat2D, m2: Mat2D): Mat2D {\n  // m1 * m2\n  return {\n    a: m1.a * m2.a + m1.c * m2.b,\n    b: m1.b * m2.a + m1.d * m2.b,\n    c: m1.a * m2.c + m1.c * m2.d,\n    d: m1.b * m2.c + m1.d * m2.d,\n    e: m1.a * m2.e + m1.c * m2.f + m1.e,\n    f: m1.b * m2.e + m1.d * m2.f + m1.f,\n  };\n}\n\nfunction applyMat(m: Mat2D, p: Vec2): Vec2 {\n  return {\n    x: m.a * p.x + m.c * p.y + m.e,\n    y: m.b * p.x + m.d * p.y + m.f,\n  };\n}\n\ninterface FlattenedPath {\n  commands: PathCommand[];\n  closed: boolean;\n  nodeType: OrnamentNodeType;\n}\n\nfunction flattenNode(\n  node: OrnamentNode,\n  parentMatrix: Mat2D,\n  out: FlattenedPath[]\n): void {\n  const nodeMatrix = matFromTransform(node.transform);\n  const combined = matMul(parentMatrix, nodeMatrix);\n\n  for (const path of node.paths) {\n    const cmds: PathCommand[] = path.commands.map(cmd => {\n      switch (cmd.type) {\n        case 'M':\n        case 'L': {\n          const p = applyMat(combined, cmd.p);\n          return { type: cmd.type, p };\n        }\n        case 'Q': {\n          const p1 = applyMat(combined, cmd.p1);\n          const p = applyMat(combined, cmd.p);\n          return { type: 'Q', p1, p };\n        }\n        case 'C': {\n          const p1 = applyMat(combined, cmd.p1);\n          const p2 = applyMat(combined, cmd.p2);\n          const p = applyMat(combined, cmd.p);\n          return { type: 'C', p1, p2, p };\n        }\n        case 'Z':\n          return cmd;\n      }\n    });\n\n    out.push({\n      commands: cmds,\n      closed: path.closed,\n      nodeType: node.type,\n    });\n  }\n\n  for (const child of node.children) {\n    flattenNode(child, combined, out);\n  }\n}\n\nfunction pathCommandsToD(\n  cmds: PathCommand[],\n  precision: number\n): string {\n  const fmt = (n: number) => n.toFixed(precision);\n\n  const parts: string[] = [];\n\n  for (const cmd of cmds) {\n    switch (cmd.type) {\n      case 'M':\n        parts.push(`M ${fmt(cmd.p.x)} ${fmt(cmd.p.y)}`);\n        break;\n      case 'L':\n        parts.push(`L ${fmt(cmd.p.x)} ${fmt(cmd.p.y)}`);\n        break;\n      case 'Q':\n        parts.push(\n          `Q ${fmt(cmd.p1.x)} ${fmt(cmd.p1.y)} ${fmt(cmd.p.x)} ${fmt(cmd.p.y)}`\n        );\n        break;\n      case 'C':\n        parts.push(\n          `C ${fmt(cmd.p1.x)} ${fmt(cmd.p1.y)} ` +\n          `${fmt(cmd.p2.x)} ${fmt(cmd.p2.y)} ` +\n          `${fmt(cmd.p.x)} ${fmt(cmd.p.y)}`\n        );\n        break;\n      case 'Z':\n        parts.push('Z');\n        break;\n    }\n  }\n\n  return parts.join(' ');\n}\n\nexport interface SvgRenderOptions {\n  stroke?: string;\n  fill?: string;\n  strokeWidth?: number;\n  includeConstruction?: boolean; // show auxiliary/grid lines?\n  precision?: number;\n  includeXmlDeclaration?: boolean;\n  width?: number;\n  height?: number;\n}\n\n/**\n * Render a Scene as an SVG string.\n * Coordinates are based on scene.bounds.\n */\nexport function ornamentToSvg(\n  ornament: OrnamentResult,\n  options: SvgRenderOptions = {}\n): string {\n  const stroke = options.stroke ?? '#333';\n  const fill = options.fill ?? 'none';\n  const strokeWidth = options.strokeWidth ?? 0.01;\n  const includeConstruction = options.includeConstruction ?? true;\n  const precision = options.precision ?? 4;\n  const includeXmlDeclaration = options.includeXmlDeclaration ?? false;\n\n  const flattened: FlattenedPath[] = [];\n  flattenNode(ornament.root, IDENTITY_MATRIX, flattened);\n\n  const viewBox: Rect = ornament.bounds;\n  const vbStr = `${viewBox.x} ${viewBox.y} ${viewBox.width} ${viewBox.height}`;\n\n  let svg = '';\n\n  if (includeXmlDeclaration) {\n    svg += '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n  }\n\n  svg += `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"${vbStr}\" `;\n  if (options.width !== undefined) {\n    svg += `width=\"${options.width}\" `;\n  }\n  if (options.height !== undefined) {\n    svg += `height=\"${options.height}\" `;\n  }\n  svg += `fill=\"none\" stroke=\"${stroke}\" stroke-width=\"${strokeWidth}\">\\n`;\n\n  // Optional group to set default stroke/fill\n  svg += `  <g fill=\"${fill}\" stroke=\"${stroke}\">\\n`;\n\n  for (const fp of flattened) {\n    if (!includeConstruction && fp.nodeType === 'auxiliary') {\n      continue;\n    }\n    const d = pathCommandsToD(fp.commands, precision);\n    svg += `    <path d=\"${d}\" />\\n`;\n  }\n\n  svg += '  </g>\\n';\n  svg += '</svg>\\n';\n\n  return svg;\n}\n\n/**\n * Alias with a name that better matches the higher level \"scene\" terminology\n * used in the interactive demos.\n */\nexport function renderSceneToSvg(\n  ornament: OrnamentResult,\n  options: SvgRenderOptions = {}\n): string {\n  return ornamentToSvg(ornament, options);\n}", "import { InorganicSquareSettings } from '../plates/inorganicSquare';\nimport { FlowToolSettings } from './flow';\n\nexport interface ControllerParams {\n  /**\n   * Plate-style preset slider. Higher steps progressively enable more motifs.\n   */\n  step: number;\n  /**\n   * Leaf morph slider remains independent of the inorganic square study.\n   */\n  leafMorphAlpha: number;\n  /**\n   * Explicit switches for the inorganic square generator.\n   */\n  square: InorganicSquareSettings;\n  /**\n   * Radial flow helper that mirrors the written workflow (circle \u2192 polygon \u2192 energy lines \u2192 sub-centers).\n   */\n  flow: FlowToolSettings;\n}\n\nexport const defaultControllerParams: ControllerParams = {\n  step: 7,\n  leafMorphAlpha: 0.35,\n  square: {\n    showOuterFrame: true,\n    showInnerFrame: true,\n    innerMargin: 0.18,\n    showCenterCross: true,\n    showDiagonals: true,\n    showSubdivisionGrid: true,\n    subdivisions: 6,\n    showInscribedCircle: true,\n    showDiamondSquare: true,\n    showQuarterArcs: true,\n  },\n  flow: {\n    showBaseCircle: true,\n    showCross: true,\n    showPolygon: false,\n    showRadials: false,\n    circleRadius: 0.72,\n    polygonSides: 6,\n    polygonRotation: 0,\n    radialMultiplier: 1,\n    enablePush: false,\n    pushAmount: 0,\n    pushMotif: 'diamond',\n    enablePull: false,\n    pullAmount: 0,\n    subCenterDepth: 0,\n    subCenterRadius: 0.3,\n    subCenterSides: 4,\n    radiateSubCenters: false,\n    nodeDecorationType: 'none',\n    nodeSize: 0.18,\n    edgeDecorationStyle: 'straight',\n    edgeBulge: 0.3,\n    edgeRepeat: 0,\n    lineWeight: 1.4,\n    showStructuralLayer: true,\n    showOrnamentLayer: true,\n    lineDiamondsEnabled: false,\n    lineDiamondWidth: 0.2,\n  },\n};\n\n", "import { generateRadialFlowScene } from '../plates/radialFlow';\nimport { renderSceneToSvg } from '../export/svg';\nimport { OrnamentResult } from '../model/types';\nimport { ControllerParams, defaultControllerParams } from '../types/controls';\nimport { FlowToolSettings } from '../types/flow';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const flowViewport = getElement('flow-viewport');\n  const flowSvgHost = getElement('flow-svg');\n  const zoomInButton = getElement('zoom-in') as HTMLButtonElement;\n  const zoomOutButton = getElement('zoom-out') as HTMLButtonElement;\n  const zoomFitButton = getElement('zoom-fit') as HTMLButtonElement;\n  const zoomController = createZoomController(flowViewport);\n\n  const renderState = (params: ControllerParams): void => {\n    flowSvgHost.innerHTML = buildFlowSvg(params.flow);\n    zoomController.apply();\n  };\n\n  zoomInButton.addEventListener('click', () => zoomController.step(0.2));\n  zoomOutButton.addEventListener('click', () => zoomController.step(-0.2));\n  zoomFitButton.addEventListener('click', () => zoomController.fit());\n\n  const previewApi = window.previewAPI;\n\n  if (previewApi) {\n    previewApi.onParams(renderState);\n    previewApi.requestState().then(renderState).catch(() => renderState(defaultControllerParams));\n  } else {\n    renderState(defaultControllerParams);\n  }\n\n  window.exportCurrentSvg = () => {\n    const svgElement = flowSvgHost.querySelector('svg');\n    if (!svgElement) {\n      return '';\n    }\n    const serializer = new XMLSerializer();\n    return serializer.serializeToString(svgElement);\n  };\n  window.exportCurrentSvg = () => {\n    const svgElement = flowSvgHost.querySelector('svg');\n    if (!svgElement) {\n      return '';\n    }\n    const serializer = new XMLSerializer();\n    return serializer.serializeToString(svgElement);\n  };\n});\n\nfunction buildFlowSvg(flow: FlowToolSettings): string {\n  const flowScene = generateRadialFlowScene(flow);\n  const scaled = scaleScene(flowScene, 600, 600);\n  const strokeWidth = clamp(flow.lineWeight ?? 1.4, 0.4, 4);\n\n  return renderSceneToSvg(scaled, {\n    stroke: '#ffd7a1',\n    fill: 'none',\n    strokeWidth,\n    includeConstruction: true,\n    width: 600,\n    height: 600,\n  });\n}\n\nfunction getElement(id: string): HTMLElement {\n  const el = document.getElementById(id);\n  if (!el) {\n    throw new Error(`Missing element #${id}`);\n  }\n  return el;\n}\n\nfunction scaleScene(scene: OrnamentResult, width: number, height: number): OrnamentResult {\n  return {\n    root: {\n      ...scene.root,\n      transform: {\n        tx: width / 2,\n        ty: height / 2,\n        rotation: 0,\n        scaleX: width / 2,\n        scaleY: height / 2,\n      },\n    },\n    bounds: { x: 0, y: 0, width, height },\n  };\n}\n\nfunction createZoomController(target: HTMLElement) {\n  let scale = 1;\n  const min = 0.5;\n  const max = 3;\n\n  const apply = () => {\n    target.style.transform = `scale(${scale})`;\n  };\n\n  const step = (delta: number) => {\n    scale = clamp(scale + delta, min, max);\n    apply();\n  };\n\n  const fit = () => {\n    scale = 1;\n    apply();\n  };\n\n  apply();\n\n  return { step, fit, apply };\n}\n\nfunction clamp(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(max, value));\n}\n\n"],
  "mappings": "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",
  "names": ["clamp"]
}
