{
  "version": 3,
  "sources": ["../src/model/types.ts", "../src/plates/radialFlow.ts", "../src/export/svg.ts", "../src/types/controls.ts", "../src/renderer/preview.ts"],
  "sourcesContent": ["// Core geometric and ornament data structures for the Sullivan ornament engine.\r\n\r\nexport interface Vec2 {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport interface Rect {\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport type PathCommand =\r\n  | { type: 'M'; p: Vec2 }\r\n  | { type: 'L'; p: Vec2 }\r\n  | { type: 'Q'; p1: Vec2; p: Vec2 }\r\n  | { type: 'C'; p1: Vec2; p2: Vec2; p: Vec2 }\r\n  | { type: 'Z' };\r\n\r\nexport interface Path {\r\n  commands: PathCommand[];\r\n  closed: boolean;\r\n}\r\n\r\nexport type OrnamentNodeType =\r\n  | 'container'\r\n  | 'axis'\r\n  | 'stem'\r\n  | 'leaf'\r\n  | 'medallion'\r\n  | 'overlay'\r\n  | 'auxiliary';\r\n\r\nexport interface Transform {\r\n  tx: number;\r\n  ty: number;\r\n  rotation: number; // radians\r\n  scaleX: number;\r\n  scaleY: number;\r\n}\r\n\r\nexport function identityTransform(): Transform {\r\n  return {\r\n    tx: 0,\r\n    ty: 0,\r\n    rotation: 0,\r\n    scaleX: 1,\r\n    scaleY: 1,\r\n  };\r\n}\r\n\r\nexport interface OrnamentNode {\r\n  id: string;\r\n  type: OrnamentNodeType;\r\n\r\n  plateOrigin?: number;   // e.g. 1 for Plate 1\r\n  stepInPlate?: number;   // step within a plate, if applicable\r\n  role?: string;          // 'main-axis', 'grid-line', 'petal', ...\r\n\r\n  params: Record<string, number | string | boolean>;\r\n\r\n  transform: Transform;\r\n  paths: Path[];\r\n  children: OrnamentNode[];\r\n}\r\n\r\nexport interface OrnamentResult {\r\n  root: OrnamentNode;\r\n  bounds: Rect; // normalized coordinate bounds, e.g. -1..1\r\n}\r\n\r\n// Helpers for building paths\r\n\r\nexport function moveTo(x: number, y: number): PathCommand {\r\n  return { type: 'M', p: { x, y } };\r\n}\r\n\r\nexport function lineTo(x: number, y: number): PathCommand {\r\n  return { type: 'L', p: { x, y } };\r\n}\r\n\r\nexport function quadTo(cx: number, cy: number, x: number, y: number): PathCommand {\r\n  return { type: 'Q', p1: { x: cx, y: cy }, p: { x, y } };\r\n}\r\n\r\nexport function cubicTo(\r\n  x1: number,\r\n  y1: number,\r\n  x2: number,\r\n  y2: number,\r\n  x: number,\r\n  y: number\r\n): PathCommand {\r\n  return { type: 'C', p1: { x: x1, y: y1 }, p2: { x: x2, y: y2 }, p: { x, y } };\r\n}\r\n\r\nexport function closePath(): PathCommand {\r\n  return { type: 'Z' };\r\n}\r\n\r\n// Axis-aligned rectangle path, starting at (x,y)\r\nexport function rectPath(x: number, y: number, width: number, height: number): Path {\r\n  const cmds: PathCommand[] = [];\r\n  cmds.push(moveTo(x, y));\r\n  cmds.push(lineTo(x + width, y));\r\n  cmds.push(lineTo(x + width, y + height));\r\n  cmds.push(lineTo(x, y + height));\r\n  cmds.push(closePath());\r\n  return { commands: cmds, closed: true };\r\n}\r\n\r\n/**\r\n * Ellipse centered at origin, axis-aligned, using 4 cubic B\u00E9zier segments.\r\n * rx, ry are radii along x and y.\r\n */\r\nexport function ellipsePath(rx: number, ry: number): Path {\r\n  const kappa = 0.5522847498307936; // control point constant\r\n\r\n  const cmds: PathCommand[] = [];\r\n\r\n  // Start at (rx, 0)\r\n  cmds.push(moveTo(rx, 0));\r\n\r\n  // Four cubic segments around the ellipse\r\n  cmds.push(cubicTo(\r\n    rx, kappa * ry,\r\n    kappa * rx, ry,\r\n    0, ry\r\n  ));\r\n\r\n  cmds.push(cubicTo(\r\n    -kappa * rx, ry,\r\n    -rx, kappa * ry,\r\n    -rx, 0\r\n  ));\r\n\r\n  cmds.push(cubicTo(\r\n    -rx, -kappa * ry,\r\n    -kappa * rx, -ry,\r\n    0, -ry\r\n  ));\r\n\r\n  cmds.push(cubicTo(\r\n    kappa * rx, -ry,\r\n    rx, -kappa * ry,\r\n    rx, 0\r\n  ));\r\n\r\n  cmds.push(closePath());\r\n\r\n  return { commands: cmds, closed: true };\r\n}\r\n", "import {\r\n  OrnamentNode,\r\n  OrnamentResult,\r\n  Path,\r\n  Vec2,\r\n  identityTransform,\r\n  ellipsePath,\r\n  moveTo,\r\n  lineTo,\r\n  quadTo,\r\n  closePath,\r\n  rectPath,\r\n} from '../model/types';\r\nimport { EdgeDecorationStyle, FlowMotif, FlowToolSettings, NodeDecorationType } from '../types/flow';\r\n\r\ninterface RadialData {\r\n  angle: number;\r\n  dir: Vec2;\r\n  normal: Vec2;\r\n  end: Vec2;\r\n}\r\n\r\nexport function generateRadialFlowScene(settings: FlowToolSettings): OrnamentResult {\r\n  const circleRadius = clamp(settings.circleRadius ?? 0.65, 0.25, 0.98);\r\n  const polygonSides = clampInt(settings.polygonSides ?? 6, 3, 18);\r\n  const polygonRotation = degToRad(settings.polygonRotation ?? 0);\r\n  const radialMultiplier = clampInt(settings.radialMultiplier ?? 1, 1, 4);\r\n  const radialCount = clampInt(polygonSides * radialMultiplier, polygonSides, 96);\r\n  const radialData = buildRadialData(radialCount, polygonRotation, circleRadius);\r\n  const polygonVertices = buildPolygonVertices(circleRadius, polygonSides, polygonRotation);\r\n\r\n  const pushAmount = clamp01(settings.pushAmount ?? 0);\r\n  const pullAmount = clamp01(settings.pullAmount ?? 0);\r\n  const subCenterDepth = clampInt(settings.subCenterDepth ?? 0, 0, 4);\r\n  const subCenterRadiusRatio = clamp(settings.subCenterRadius ?? 0.35, 0.05, 0.85);\r\n  const subCenterSides = clampInt(settings.subCenterSides ?? 4, 3, 12);\r\n\r\n  const nodeSize = clamp(settings.nodeSize ?? 0.18, 0.01, 0.6);\r\n  const edgeBulge = clamp01(settings.edgeBulge ?? 0.3);\r\n  const edgeRepeat = clampInt(settings.edgeRepeat ?? 0, 0, 16);\r\n  const lineDiamondWidth = clamp(settings.lineDiamondWidth ?? 0.2, 0.01, 0.8);\r\n\r\n  const structuralEnabled = settings.showStructuralLayer !== false;\r\n  const ornamentEnabled = settings.showOrnamentLayer !== false;\r\n\r\n  const extent = computeExtent(\r\n    circleRadius,\r\n    pushAmount,\r\n    subCenterDepth,\r\n    subCenterRadiusRatio,\r\n    nodeSize,\r\n    edgeBulge,\r\n    settings.lineDiamondsEnabled ? lineDiamondWidth : 0\r\n  );\r\n\r\n  const root: OrnamentNode = {\r\n    id: 'radial-flow-root',\r\n    type: 'container',\r\n    plateOrigin: 1,\r\n    role: 'radial-flow',\r\n    stepInPlate: 0,\r\n    params: {},\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  const structureLayer = createLayerNode('flow-structure', 'structure-layer', structuralEnabled);\r\n  const ornamentLayer = createLayerNode('flow-ornament', 'ornament-layer', ornamentEnabled);\r\n\r\n  if (structuralEnabled) {\r\n    if (settings.showBaseCircle) {\r\n      structureLayer.paths.push(ellipsePath(circleRadius, circleRadius));\r\n    }\r\n\r\n    if (settings.showCross) {\r\n      structureLayer.children.push(createCrossNode(circleRadius));\r\n    }\r\n\r\n    if (settings.showPolygon) {\r\n      structureLayer.children.push(createPolygonNode(polygonVertices));\r\n    }\r\n\r\n    if (settings.showRadials) {\r\n      structureLayer.children.push(createRadialsNode(circleRadius, radialCount, polygonRotation));\r\n    }\r\n\r\n    if (subCenterDepth > 0) {\r\n      const subCenterRadius = circleRadius * subCenterRadiusRatio;\r\n      const subCenters = createSubCenterGroup({\r\n        depth: subCenterDepth,\r\n        radius: subCenterRadius,\r\n        anchorRadius: circleRadius,\r\n        radialCount,\r\n        baseRotation: polygonRotation,\r\n        sides: subCenterSides,\r\n        radiate: settings.radiateSubCenters,\r\n      });\r\n      if (subCenters) {\r\n        structureLayer.children.push(subCenters);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (ornamentEnabled) {\r\n    if (settings.enablePush && pushAmount > 0) {\r\n      ornamentLayer.children.push(\r\n        createPushMotifNode(circleRadius, radialCount, polygonRotation, pushAmount, settings.pushMotif)\r\n      );\r\n    }\r\n\r\n    if (settings.enablePull && pullAmount > 0) {\r\n      ornamentLayer.children.push(\r\n        createPullMotifNode(circleRadius, radialCount, polygonRotation, pullAmount)\r\n      );\r\n    }\r\n\r\n    const nodeDecorations = createNodeDecorationNode(\r\n      settings.nodeDecorationType,\r\n      nodeSize,\r\n      radialData,\r\n      circleRadius\r\n    );\r\n    if (nodeDecorations) {\r\n      ornamentLayer.children.push(nodeDecorations);\r\n    }\r\n\r\n    const edgeDecorations = createEdgeDecorationNode(\r\n      settings.edgeDecorationStyle,\r\n      edgeRepeat,\r\n      edgeBulge,\r\n      radialData,\r\n      circleRadius,\r\n      nodeSize\r\n    );\r\n    if (edgeDecorations) {\r\n      ornamentLayer.children.push(edgeDecorations);\r\n    }\r\n\r\n    if (settings.lineDiamondsEnabled) {\r\n      const diamonds = createLineDiamondsNode(lineDiamondWidth, polygonVertices);\r\n      if (diamonds) {\r\n        ornamentLayer.children.push(diamonds);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (structureLayer.paths.length || structureLayer.children.length) {\r\n    root.children.push(structureLayer);\r\n  }\r\n  if (ornamentLayer.paths.length || ornamentLayer.children.length) {\r\n    root.children.push(ornamentLayer);\r\n  }\r\n\r\n  return {\r\n    root,\r\n    bounds: makeBounds(extent),\r\n  };\r\n}\r\n\r\nfunction createPolygonNode(vertices: Vec2[]): OrnamentNode {\r\n  const path = polygonPathFromVertices(vertices);\r\n  return {\r\n    id: 'flow-dividing-polygon',\r\n    type: 'auxiliary',\r\n    plateOrigin: 1,\r\n    role: 'dividing-polygon',\r\n    stepInPlate: 1,\r\n    params: { sides: vertices.length },\r\n    transform: identityTransform(),\r\n    paths: [path],\r\n    children: [],\r\n  };\r\n}\r\n\r\nfunction polygonPathFromVertices(vertices: Vec2[]): Path {\r\n  const commands = [];\r\n  vertices.forEach((vertex, index) => {\r\n    if (index === 0) {\r\n      commands.push(moveTo(vertex.x, vertex.y));\r\n    } else {\r\n      commands.push(lineTo(vertex.x, vertex.y));\r\n    }\r\n  });\r\n  commands.push(closePath());\r\n  return { commands, closed: true };\r\n}\r\n\r\nfunction createRadialsNode(radius: number, count: number, rotation: number): OrnamentNode {\r\n  const node: OrnamentNode = {\r\n    id: 'flow-radials',\r\n    type: 'axis',\r\n    plateOrigin: 1,\r\n    role: 'radial-energy',\r\n    stepInPlate: 2,\r\n    params: { count },\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  const reach = radius * 1.08;\r\n  for (let i = 0; i < count; i++) {\r\n    const angle = rotation + (2 * Math.PI * i) / count;\r\n    const x = Math.cos(angle) * reach;\r\n    const y = Math.sin(angle) * reach;\r\n    node.paths.push({\r\n      commands: [moveTo(0, 0), lineTo(x, y)],\r\n      closed: false,\r\n    });\r\n  }\r\n\r\n  return node;\r\n}\r\n\r\nfunction createCrossNode(radius: number): OrnamentNode {\r\n  const reach = Math.max(radius * 1.35, radius + 0.2);\r\n  const node: OrnamentNode = {\r\n    id: 'flow-cross',\r\n    type: 'axis',\r\n    plateOrigin: 1,\r\n    role: 'circle-cross',\r\n    stepInPlate: 1,\r\n    params: {},\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  node.paths.push({\r\n    commands: [moveTo(-reach, 0), lineTo(reach, 0)],\r\n    closed: false,\r\n  });\r\n  node.paths.push({\r\n    commands: [moveTo(0, -reach), lineTo(0, reach)],\r\n    closed: false,\r\n  });\r\n\r\n  return node;\r\n}\r\n\r\nfunction createPushMotifNode(\r\n  baseRadius: number,\r\n  radialCount: number,\r\n  rotation: number,\r\n  amount: number,\r\n  motif: FlowMotif = 'square'\r\n): OrnamentNode {\r\n  const group: OrnamentNode = {\r\n    id: 'flow-push-motifs',\r\n    type: 'overlay',\r\n    plateOrigin: 1,\r\n    role: 'push-motif',\r\n    stepInPlate: 3,\r\n    params: { motif },\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  const motifSize = 0.08 + amount * 0.18;\r\n  const radius = baseRadius * (1 + amount * 0.45);\r\n  const motifPath = createMotifPath(motif, motifSize);\r\n\r\n  for (let i = 0; i < radialCount; i++) {\r\n    const angle = rotation + (2 * Math.PI * i) / radialCount;\r\n    const x = Math.cos(angle) * radius;\r\n    const y = Math.sin(angle) * radius;\r\n    group.children.push({\r\n      id: `push-${i}`,\r\n      type: 'overlay',\r\n      plateOrigin: 1,\r\n      role: 'push-instance',\r\n      stepInPlate: 3,\r\n      params: { angle },\r\n      transform: {\r\n        tx: x,\r\n        ty: y,\r\n        rotation: angle + Math.PI / 2,\r\n        scaleX: 1,\r\n        scaleY: 1,\r\n      },\r\n      paths: [motifPath],\r\n      children: [],\r\n    });\r\n  }\r\n\r\n  return group;\r\n}\r\n\r\nfunction createPullMotifNode(\r\n  baseRadius: number,\r\n  radialCount: number,\r\n  rotation: number,\r\n  amount: number\r\n): OrnamentNode {\r\n  const group: OrnamentNode = {\r\n    id: 'flow-pull-motifs',\r\n    type: 'overlay',\r\n    plateOrigin: 1,\r\n    role: 'pull-motif',\r\n    stepInPlate: 3,\r\n    params: {},\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  const innerRadius = baseRadius * (1 - 0.6 * amount);\r\n  const radius = (baseRadius + innerRadius) / 2;\r\n  const motifSize = 0.06 + amount * 0.16;\r\n  const motifPath = createPullMotifPath(motifSize);\r\n\r\n  for (let i = 0; i < radialCount; i++) {\r\n    const angle = rotation + (2 * Math.PI * i) / radialCount;\r\n    const x = Math.cos(angle) * radius;\r\n    const y = Math.sin(angle) * radius;\r\n    group.children.push({\r\n      id: `pull-${i}`,\r\n      type: 'overlay',\r\n      plateOrigin: 1,\r\n      role: 'pull-instance',\r\n      stepInPlate: 3,\r\n      params: { angle },\r\n      transform: {\r\n        tx: x,\r\n        ty: y,\r\n        rotation: angle + Math.PI,\r\n        scaleX: 1,\r\n        scaleY: 1,\r\n      },\r\n      paths: [motifPath],\r\n      children: [],\r\n    });\r\n  }\r\n\r\n  return group;\r\n}\r\n\r\nfunction createMotifPath(kind: FlowMotif, size: number): Path {\r\n  switch (kind) {\r\n    case 'diamond': {\r\n      const h = size;\r\n      const w = size * 0.65;\r\n      return {\r\n        commands: [\r\n          moveTo(0, -h),\r\n          lineTo(w, 0),\r\n          lineTo(0, h),\r\n          lineTo(-w, 0),\r\n          closePath(),\r\n        ],\r\n        closed: true,\r\n      };\r\n    }\r\n    case 'lobe': {\r\n      return ellipsePath(size * 0.5, size * 0.9);\r\n    }\r\n    case 'pyramid': {\r\n      return {\r\n        commands: [\r\n          moveTo(-size * 0.6, size * 0.5),\r\n          lineTo(size * 0.6, size * 0.5),\r\n          lineTo(0, -size * 0.65),\r\n          closePath(),\r\n        ],\r\n        closed: true,\r\n      };\r\n    }\r\n    case 'square':\r\n    default:\r\n      return rectPath(-size / 2, -size / 2, size, size);\r\n  }\r\n}\r\n\r\nfunction createPullMotifPath(size: number): Path {\r\n  const width = size * 0.5;\r\n  const height = size * 1.4;\r\n  return {\r\n    commands: [\r\n      moveTo(0, -height * 0.5),\r\n      lineTo(width, 0),\r\n      lineTo(0, height * 0.5),\r\n      lineTo(-width, 0),\r\n      closePath(),\r\n    ],\r\n    closed: true,\r\n  };\r\n}\r\n\r\ninterface SubCenterOptions {\r\n  depth: number;\r\n  radius: number;\r\n  anchorRadius: number;\r\n  radialCount: number;\r\n  baseRotation: number;\r\n  sides: number;\r\n  radiate: boolean;\r\n}\r\n\r\nfunction createSubCenterGroup(options: SubCenterOptions): OrnamentNode | null {\r\n  if (options.depth <= 0 || options.radius <= 0) {\r\n    return null;\r\n  }\r\n\r\n  const group: OrnamentNode = {\r\n    id: 'flow-sub-centers',\r\n    type: 'container',\r\n    plateOrigin: 1,\r\n    role: 'sub-centers',\r\n    stepInPlate: 4,\r\n    params: { depth: options.depth },\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  for (let i = 0; i < options.radialCount; i++) {\r\n    const angle = options.baseRotation + (2 * Math.PI * i) / options.radialCount;\r\n    const x = Math.cos(angle) * options.anchorRadius;\r\n    const y = Math.sin(angle) * options.anchorRadius;\r\n    const transform = identityTransform();\r\n    transform.tx = x;\r\n    transform.ty = y;\r\n    const node = createSubCenterNode(\r\n      `sub-center-${i}`,\r\n      options.depth,\r\n      options.radius,\r\n      options.sides,\r\n      options.radiate,\r\n      transform\r\n    );\r\n    group.children.push(node);\r\n  }\r\n\r\n  return group;\r\n}\r\n\r\nfunction createSubCenterNode(\r\n  id: string,\r\n  depth: number,\r\n  radius: number,\r\n  sides: number,\r\n  radiate: boolean,\r\n  transform = identityTransform()\r\n): OrnamentNode {\r\n  const node: OrnamentNode = {\r\n    id,\r\n    type: 'container',\r\n    plateOrigin: 1,\r\n    role: 'sub-center',\r\n    stepInPlate: 4 - depth,\r\n    params: { radius, depth },\r\n    transform,\r\n    paths: [ellipsePath(radius * 0.4, radius * 0.4)],\r\n    children: [],\r\n  };\r\n\r\n  if (radiate) {\r\n    node.children.push(createLocalRadialsNode(radius, sides));\r\n  }\r\n\r\n  if (depth > 1) {\r\n    const childRadius = radius * 0.6;\r\n    for (let i = 0; i < sides; i++) {\r\n      const angle = (2 * Math.PI * i) / sides;\r\n      const childTransform = identityTransform();\r\n      childTransform.tx = Math.cos(angle) * radius;\r\n      childTransform.ty = Math.sin(angle) * radius;\r\n      childTransform.rotation = 0;\r\n      const child = createSubCenterNode(\r\n        `${id}-${i}`,\r\n        depth - 1,\r\n        childRadius,\r\n        sides,\r\n        radiate,\r\n        childTransform\r\n      );\r\n      node.children.push(child);\r\n    }\r\n  }\r\n\r\n  return node;\r\n}\r\n\r\nfunction createLocalRadialsNode(radius: number, sides: number): OrnamentNode {\r\n  const node: OrnamentNode = {\r\n    id: 'sub-center-radials',\r\n    type: 'axis',\r\n    plateOrigin: 1,\r\n    role: 'sub-center-radial',\r\n    stepInPlate: 4,\r\n    params: { sides },\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  for (let i = 0; i < sides; i++) {\r\n    const angle = (2 * Math.PI * i) / sides;\r\n    const x = Math.cos(angle) * radius;\r\n    const y = Math.sin(angle) * radius;\r\n    node.paths.push({\r\n      commands: [moveTo(0, 0), lineTo(x, y)],\r\n      closed: false,\r\n    });\r\n  }\r\n\r\n  return node;\r\n}\r\n\r\nfunction makeBounds(extent: number) {\r\n  return {\r\n    x: -extent,\r\n    y: -extent,\r\n    width: extent * 2,\r\n    height: extent * 2,\r\n  };\r\n}\r\n\r\nfunction computeExtent(\r\n  circleRadius: number,\r\n  pushAmount: number,\r\n  subCenterDepth: number,\r\n  subCenterRadiusRatio: number,\r\n  nodeSize: number,\r\n  edgeBulge: number,\r\n  lineDiamondWidth: number\r\n): number {\r\n  let extent = circleRadius * (1.1 + nodeSize * 0.8);\r\n  extent = Math.max(extent, circleRadius * (1 + edgeBulge * 0.5));\r\n  extent = Math.max(extent, circleRadius * (1 + lineDiamondWidth));\r\n\r\n  const pushReach = circleRadius * (1 + pushAmount * 0.6);\r\n  extent = Math.max(extent, pushReach);\r\n\r\n  if (subCenterDepth > 0 && subCenterRadiusRatio > 0) {\r\n    let offset = circleRadius;\r\n    let currentRadius = circleRadius * subCenterRadiusRatio;\r\n\r\n    for (let depth = 0; depth < subCenterDepth; depth++) {\r\n      offset += currentRadius;\r\n      currentRadius *= 0.6;\r\n    }\r\n\r\n    extent = Math.max(extent, offset);\r\n  }\r\n\r\n  return Math.max(extent, 1.6);\r\n}\r\n\r\nfunction createLayerNode(id: string, role: string, enabled: boolean): OrnamentNode {\r\n  return {\r\n    id,\r\n    type: 'container',\r\n    plateOrigin: 1,\r\n    role,\r\n    stepInPlate: 0,\r\n    params: { enabled },\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n}\r\n\r\nfunction buildRadialData(count: number, rotation: number, radius: number): RadialData[] {\r\n  const data: RadialData[] = [];\r\n  for (let i = 0; i < count; i++) {\r\n    const angle = rotation + (2 * Math.PI * i) / count;\r\n    const dir = { x: Math.cos(angle), y: Math.sin(angle) };\r\n    const normal = { x: -dir.y, y: dir.x };\r\n    const end = { x: dir.x * radius, y: dir.y * radius };\r\n    data.push({ angle, dir, normal, end });\r\n  }\r\n  return data;\r\n}\r\n\r\nfunction buildPolygonVertices(radius: number, sides: number, rotation: number): Vec2[] {\r\n  const vertices: Vec2[] = [];\r\n  for (let i = 0; i < sides; i++) {\r\n    const angle = rotation + (2 * Math.PI * i) / sides;\r\n    vertices.push({\r\n      x: Math.cos(angle) * radius,\r\n      y: Math.sin(angle) * radius,\r\n    });\r\n  }\r\n  return vertices;\r\n}\r\n\r\nfunction createNodeDecorationNode(\r\n  type: NodeDecorationType,\r\n  sizeRatio: number,\r\n  radials: RadialData[],\r\n  circleRadius: number\r\n): OrnamentNode | null {\r\n  if (type === 'none' || sizeRatio <= 0 || !radials.length) {\r\n    return null;\r\n  }\r\n\r\n  const size = circleRadius * sizeRatio;\r\n  const path = createNodeDecorationPath(type, size);\r\n  const node: OrnamentNode = {\r\n    id: 'node-decorations',\r\n    type: 'overlay',\r\n    plateOrigin: 1,\r\n    role: 'node-decoration',\r\n    stepInPlate: 4,\r\n    params: { type, size },\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  // center decoration\r\n  node.children.push({\r\n    id: 'node-center',\r\n    type: 'overlay',\r\n    plateOrigin: 1,\r\n    role: 'node-center',\r\n    stepInPlate: 4,\r\n    params: {},\r\n    transform: identityTransform(),\r\n    paths: [path],\r\n    children: [],\r\n  });\r\n\r\n  radials.forEach((radial, index) => {\r\n    node.children.push({\r\n      id: `node-${index}`,\r\n      type: 'overlay',\r\n      plateOrigin: 1,\r\n      role: 'node-ray',\r\n      stepInPlate: 4,\r\n      params: { angle: radial.angle },\r\n      transform: {\r\n        tx: radial.end.x,\r\n        ty: radial.end.y,\r\n        rotation: radial.angle,\r\n        scaleX: 1,\r\n        scaleY: 1,\r\n      },\r\n      paths: [path],\r\n      children: [],\r\n    });\r\n  });\r\n\r\n  return node;\r\n}\r\n\r\nfunction createNodeDecorationPath(type: NodeDecorationType, size: number): Path {\r\n  switch (type) {\r\n    case 'circle':\r\n      return ellipsePath(size * 0.5, size * 0.5);\r\n    case 'square':\r\n      return rectPath(-size / 2, -size / 2, size, size);\r\n    case 'petal': {\r\n      const petal = ellipsePath(size * 0.35, size * 0.65);\r\n      return petal;\r\n    }\r\n    case 'custom': {\r\n      const w = size * 0.6;\r\n      const h = size;\r\n      return {\r\n        commands: [\r\n          moveTo(0, -h / 2),\r\n          lineTo(w / 2, -h / 4),\r\n          lineTo(w / 2, h / 4),\r\n          lineTo(0, h / 2),\r\n          lineTo(-w / 2, h / 4),\r\n          lineTo(-w / 2, -h / 4),\r\n          closePath(),\r\n        ],\r\n        closed: true,\r\n      };\r\n    }\r\n    case 'none':\r\n    default:\r\n      return ellipsePath(size * 0.5, size * 0.5);\r\n  }\r\n}\r\n\r\nfunction createEdgeDecorationNode(\r\n  style: EdgeDecorationStyle,\r\n  repeats: number,\r\n  bulge: number,\r\n  radials: RadialData[],\r\n  circleRadius: number,\r\n  sizeRatio: number\r\n): OrnamentNode | null {\r\n  if (style === 'straight' || repeats <= 0 || !radials.length) {\r\n    return null;\r\n  }\r\n\r\n  const span = circleRadius * Math.max(0.04, sizeRatio * 0.25);\r\n\r\n  const node: OrnamentNode = {\r\n    id: 'edge-ornaments',\r\n    type: 'overlay',\r\n    plateOrigin: 1,\r\n    role: 'edge-decoration',\r\n    stepInPlate: 4,\r\n    params: { style, repeats },\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  radials.forEach((radial, index) => {\r\n    for (let r = 0; r < repeats; r++) {\r\n      const t = (r + 1) / (repeats + 1);\r\n      const base = {\r\n        x: radial.dir.x * circleRadius * t,\r\n        y: radial.dir.y * circleRadius * t,\r\n      };\r\n      const lateral = span * (0.8 + r * 0.05);\r\n\r\n      if (style === 'arched') {\r\n        const start = {\r\n          x: base.x - radial.normal.x * lateral,\r\n          y: base.y - radial.normal.y * lateral,\r\n        };\r\n        const end = {\r\n          x: base.x + radial.normal.x * lateral,\r\n          y: base.y + radial.normal.y * lateral,\r\n        };\r\n        const control = {\r\n          x: base.x + radial.dir.x * (bulge * lateral * 1.4),\r\n          y: base.y + radial.dir.y * (bulge * lateral * 1.4),\r\n        };\r\n        node.paths.push({\r\n          commands: [moveTo(start.x, start.y), quadTo(control.x, control.y, end.x, end.y)],\r\n          closed: false,\r\n        });\r\n      } else if (style === 'double') {\r\n        const gap = span * (0.4 + bulge * 0.5);\r\n        const startA = {\r\n          x: base.x - radial.dir.x * span,\r\n          y: base.y - radial.dir.y * span,\r\n        };\r\n        const endA = {\r\n          x: base.x + radial.dir.x * span,\r\n          y: base.y + radial.dir.y * span,\r\n        };\r\n        const offsetA = {\r\n          x: radial.normal.x * gap,\r\n          y: radial.normal.y * gap,\r\n        };\r\n        const offsetB = {\r\n          x: -offsetA.x,\r\n          y: -offsetA.y,\r\n        };\r\n\r\n        node.paths.push({\r\n          commands: [\r\n            moveTo(startA.x + offsetA.x, startA.y + offsetA.y),\r\n            lineTo(endA.x + offsetA.x, endA.y + offsetA.y),\r\n          ],\r\n          closed: false,\r\n        });\r\n        node.paths.push({\r\n          commands: [\r\n            moveTo(startA.x + offsetB.x, startA.y + offsetB.y),\r\n            lineTo(endA.x + offsetB.x, endA.y + offsetB.y),\r\n          ],\r\n          closed: false,\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\n  return node.paths.length ? node : null;\r\n}\r\n\r\nfunction createLineDiamondsNode(widthRatio: number, vertices: Vec2[]): OrnamentNode | null {\r\n  if (widthRatio <= 0 || vertices.length < 2) {\r\n    return null;\r\n  }\r\n\r\n  const node: OrnamentNode = {\r\n    id: 'line-diamonds',\r\n    type: 'overlay',\r\n    plateOrigin: 1,\r\n    role: 'line-diamonds',\r\n    stepInPlate: 4,\r\n    params: { widthRatio },\r\n    transform: identityTransform(),\r\n    paths: [],\r\n    children: [],\r\n  };\r\n\r\n  const count = vertices.length;\r\n  for (let i = 0; i < count; i++) {\r\n    const start = vertices[i];\r\n    const end = vertices[(i + 1) % count];\r\n    const edgeX = end.x - start.x;\r\n    const edgeY = end.y - start.y;\r\n    const length = Math.hypot(edgeX, edgeY);\r\n    if (length === 0) {\r\n      continue;\r\n    }\r\n    const dir = { x: edgeX / length, y: edgeY / length };\r\n    const normal = { x: -dir.y, y: dir.x };\r\n    const mid = { x: (start.x + end.x) / 2, y: (start.y + end.y) / 2 };\r\n    const offsetMagnitude = length * widthRatio;\r\n    const offset = { x: normal.x * offsetMagnitude, y: normal.y * offsetMagnitude };\r\n\r\n    const diamondPath: Path = {\r\n      commands: [\r\n        moveTo(start.x, start.y),\r\n        lineTo(mid.x + offset.x, mid.y + offset.y),\r\n        lineTo(end.x, end.y),\r\n        lineTo(mid.x - offset.x, mid.y - offset.y),\r\n        closePath(),\r\n      ],\r\n      closed: true,\r\n    };\r\n\r\n    node.paths.push(diamondPath);\r\n  }\r\n\r\n  return node.paths.length ? node : null;\r\n}\r\n\r\nfunction clamp(value: number, min: number, max: number): number {\r\n  return Math.max(min, Math.min(max, value));\r\n}\r\n\r\nfunction clamp01(value: number): number {\r\n  return clamp(value, 0, 1);\r\n}\r\n\r\nfunction clampInt(value: number, min: number, max: number): number {\r\n  const v = Math.floor(value);\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nfunction degToRad(value: number): number {\r\n  return (value * Math.PI) / 180;\r\n}\r\n\r\n\r\n", "import { Vec2, Rect, PathCommand, OrnamentResult, OrnamentNode, OrnamentNodeType, Transform } from '../model/types';\r\n\r\ninterface Mat2D {\r\n  a: number; b: number;\r\n  c: number; d: number;\r\n  e: number; f: number;\r\n}\r\n\r\nconst IDENTITY_MATRIX: Mat2D = {\r\n  a: 1, b: 0,\r\n  c: 0, d: 1,\r\n  e: 0, f: 0,\r\n};\r\n\r\nfunction matFromTransform(t: Transform): Mat2D {\r\n  const cos = Math.cos(t.rotation);\r\n  const sin = Math.sin(t.rotation);\r\n\r\n  const a = cos * t.scaleX;\r\n  const b = sin * t.scaleX;\r\n  const c = -sin * t.scaleY;\r\n  const d = cos * t.scaleY;\r\n  const e = t.tx;\r\n  const f = t.ty;\r\n\r\n  return { a, b, c, d, e, f };\r\n}\r\n\r\nfunction matMul(m1: Mat2D, m2: Mat2D): Mat2D {\r\n  // m1 * m2\r\n  return {\r\n    a: m1.a * m2.a + m1.c * m2.b,\r\n    b: m1.b * m2.a + m1.d * m2.b,\r\n    c: m1.a * m2.c + m1.c * m2.d,\r\n    d: m1.b * m2.c + m1.d * m2.d,\r\n    e: m1.a * m2.e + m1.c * m2.f + m1.e,\r\n    f: m1.b * m2.e + m1.d * m2.f + m1.f,\r\n  };\r\n}\r\n\r\nfunction applyMat(m: Mat2D, p: Vec2): Vec2 {\r\n  return {\r\n    x: m.a * p.x + m.c * p.y + m.e,\r\n    y: m.b * p.x + m.d * p.y + m.f,\r\n  };\r\n}\r\n\r\ninterface FlattenedPath {\r\n  commands: PathCommand[];\r\n  closed: boolean;\r\n  nodeType: OrnamentNodeType;\r\n}\r\n\r\nfunction flattenNode(\r\n  node: OrnamentNode,\r\n  parentMatrix: Mat2D,\r\n  out: FlattenedPath[]\r\n): void {\r\n  const nodeMatrix = matFromTransform(node.transform);\r\n  const combined = matMul(parentMatrix, nodeMatrix);\r\n\r\n  for (const path of node.paths) {\r\n    const cmds: PathCommand[] = path.commands.map(cmd => {\r\n      switch (cmd.type) {\r\n        case 'M':\r\n        case 'L': {\r\n          const p = applyMat(combined, cmd.p);\r\n          return { type: cmd.type, p };\r\n        }\r\n        case 'Q': {\r\n          const p1 = applyMat(combined, cmd.p1);\r\n          const p = applyMat(combined, cmd.p);\r\n          return { type: 'Q', p1, p };\r\n        }\r\n        case 'C': {\r\n          const p1 = applyMat(combined, cmd.p1);\r\n          const p2 = applyMat(combined, cmd.p2);\r\n          const p = applyMat(combined, cmd.p);\r\n          return { type: 'C', p1, p2, p };\r\n        }\r\n        case 'Z':\r\n          return cmd;\r\n      }\r\n    });\r\n\r\n    out.push({\r\n      commands: cmds,\r\n      closed: path.closed,\r\n      nodeType: node.type,\r\n    });\r\n  }\r\n\r\n  for (const child of node.children) {\r\n    flattenNode(child, combined, out);\r\n  }\r\n}\r\n\r\nfunction pathCommandsToD(\r\n  cmds: PathCommand[],\r\n  precision: number\r\n): string {\r\n  const fmt = (n: number) => n.toFixed(precision);\r\n\r\n  const parts: string[] = [];\r\n\r\n  for (const cmd of cmds) {\r\n    switch (cmd.type) {\r\n      case 'M':\r\n        parts.push(`M ${fmt(cmd.p.x)} ${fmt(cmd.p.y)}`);\r\n        break;\r\n      case 'L':\r\n        parts.push(`L ${fmt(cmd.p.x)} ${fmt(cmd.p.y)}`);\r\n        break;\r\n      case 'Q':\r\n        parts.push(\r\n          `Q ${fmt(cmd.p1.x)} ${fmt(cmd.p1.y)} ${fmt(cmd.p.x)} ${fmt(cmd.p.y)}`\r\n        );\r\n        break;\r\n      case 'C':\r\n        parts.push(\r\n          `C ${fmt(cmd.p1.x)} ${fmt(cmd.p1.y)} ` +\r\n          `${fmt(cmd.p2.x)} ${fmt(cmd.p2.y)} ` +\r\n          `${fmt(cmd.p.x)} ${fmt(cmd.p.y)}`\r\n        );\r\n        break;\r\n      case 'Z':\r\n        parts.push('Z');\r\n        break;\r\n    }\r\n  }\r\n\r\n  return parts.join(' ');\r\n}\r\n\r\nexport interface SvgRenderOptions {\r\n  stroke?: string;\r\n  fill?: string;\r\n  strokeWidth?: number;\r\n  includeConstruction?: boolean; // show auxiliary/grid lines?\r\n  precision?: number;\r\n  includeXmlDeclaration?: boolean;\r\n  width?: number;\r\n  height?: number;\r\n}\r\n\r\n/**\r\n * Render a Scene as an SVG string.\r\n * Coordinates are based on scene.bounds.\r\n */\r\nexport function ornamentToSvg(\r\n  ornament: OrnamentResult,\r\n  options: SvgRenderOptions = {}\r\n): string {\r\n  const stroke = options.stroke ?? '#333';\r\n  const fill = options.fill ?? 'none';\r\n  const strokeWidth = options.strokeWidth ?? 0.01;\r\n  const includeConstruction = options.includeConstruction ?? true;\r\n  const precision = options.precision ?? 4;\r\n  const includeXmlDeclaration = options.includeXmlDeclaration ?? false;\r\n\r\n  const flattened: FlattenedPath[] = [];\r\n  flattenNode(ornament.root, IDENTITY_MATRIX, flattened);\r\n\r\n  const viewBox: Rect = ornament.bounds;\r\n  const vbStr = `${viewBox.x} ${viewBox.y} ${viewBox.width} ${viewBox.height}`;\r\n\r\n  let svg = '';\r\n\r\n  if (includeXmlDeclaration) {\r\n    svg += '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\r\n  }\r\n\r\n  svg += `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"${vbStr}\" `;\r\n  if (options.width !== undefined) {\r\n    svg += `width=\"${options.width}\" `;\r\n  }\r\n  if (options.height !== undefined) {\r\n    svg += `height=\"${options.height}\" `;\r\n  }\r\n  svg += `fill=\"none\" stroke=\"${stroke}\" stroke-width=\"${strokeWidth}\">\\n`;\r\n\r\n  // Optional group to set default stroke/fill\r\n  svg += `  <g fill=\"${fill}\" stroke=\"${stroke}\">\\n`;\r\n\r\n  for (const fp of flattened) {\r\n    if (!includeConstruction && fp.nodeType === 'auxiliary') {\r\n      continue;\r\n    }\r\n    const d = pathCommandsToD(fp.commands, precision);\r\n    svg += `    <path d=\"${d}\" />\\n`;\r\n  }\r\n\r\n  svg += '  </g>\\n';\r\n  svg += '</svg>\\n';\r\n\r\n  return svg;\r\n}\r\n\r\n/**\r\n * Alias with a name that better matches the higher level \"scene\" terminology\r\n * used in the interactive demos.\r\n */\r\nexport function renderSceneToSvg(\r\n  ornament: OrnamentResult,\r\n  options: SvgRenderOptions = {}\r\n): string {\r\n  return ornamentToSvg(ornament, options);\r\n}", "import { InorganicSquareSettings } from '../plates/inorganicSquare';\r\nimport { FlowToolSettings } from './flow';\r\n\r\nexport interface ControllerParams {\r\n  /**\r\n   * Plate-style preset slider. Higher steps progressively enable more motifs.\r\n   */\r\n  step: number;\r\n  /**\r\n   * Leaf morph slider remains independent of the inorganic square study.\r\n   */\r\n  leafMorphAlpha: number;\r\n  /**\r\n   * Explicit switches for the inorganic square generator.\r\n   */\r\n  square: InorganicSquareSettings;\r\n  /**\r\n   * Radial flow helper that mirrors the written workflow (circle \u2192 polygon \u2192 energy lines \u2192 sub-centers).\r\n   */\r\n  flow: FlowToolSettings;\r\n}\r\n\r\nexport const defaultControllerParams: ControllerParams = {\r\n  step: 7,\r\n  leafMorphAlpha: 0.35,\r\n  square: {\r\n    showOuterFrame: true,\r\n    showInnerFrame: true,\r\n    innerMargin: 0.18,\r\n    showCenterCross: true,\r\n    showDiagonals: true,\r\n    showSubdivisionGrid: true,\r\n    subdivisions: 6,\r\n    showInscribedCircle: true,\r\n    showDiamondSquare: true,\r\n    showQuarterArcs: true,\r\n  },\r\n  flow: {\r\n    showBaseCircle: true,\r\n    showCross: true,\r\n    showPolygon: false,\r\n    showRadials: false,\r\n    circleRadius: 0.72,\r\n    polygonSides: 6,\r\n    polygonRotation: 0,\r\n    radialMultiplier: 1,\r\n    enablePush: false,\r\n    pushAmount: 0,\r\n    pushMotif: 'diamond',\r\n    enablePull: false,\r\n    pullAmount: 0,\r\n    subCenterDepth: 0,\r\n    subCenterRadius: 0.3,\r\n    subCenterSides: 4,\r\n    radiateSubCenters: false,\r\n    nodeDecorationType: 'none',\r\n    nodeSize: 0.18,\r\n    edgeDecorationStyle: 'straight',\r\n    edgeBulge: 0.3,\r\n    edgeRepeat: 0,\r\n    lineWeight: 1.4,\r\n    showStructuralLayer: true,\r\n    showOrnamentLayer: true,\r\n    lineDiamondsEnabled: false,\r\n    lineDiamondWidth: 0.2,\r\n  },\r\n};\r\n\r\n", "import { generateRadialFlowScene } from '../plates/radialFlow';\nimport { renderSceneToSvg } from '../export/svg';\nimport { OrnamentResult } from '../model/types';\nimport { ControllerParams, defaultControllerParams } from '../types/controls';\nimport { FlowToolSettings } from '../types/flow';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const flowViewport = getElement('flow-viewport');\n  const flowSvgHost = getElement('flow-svg');\n  const zoomInButton = getElement('zoom-in') as HTMLButtonElement;\n  const zoomOutButton = getElement('zoom-out') as HTMLButtonElement;\n  const zoomFitButton = getElement('zoom-fit') as HTMLButtonElement;\n  const zoomController = createZoomController(flowViewport);\n\n  const renderState = (params: ControllerParams): void => {\n    flowSvgHost.innerHTML = buildFlowSvg(params.flow);\n    zoomController.apply();\n  };\n\n  zoomInButton.addEventListener('click', () => zoomController.step(0.2));\n  zoomOutButton.addEventListener('click', () => zoomController.step(-0.2));\n  zoomFitButton.addEventListener('click', () => zoomController.fit());\n\n  const previewApi = window.previewAPI;\n\n  if (previewApi) {\n    previewApi.onParams(renderState);\n    previewApi.requestState().then(renderState).catch(() => renderState(defaultControllerParams));\n  } else {\n    renderState(defaultControllerParams);\n  }\n\n  window.exportCurrentSvg = () => {\n    const svgElement = flowSvgHost.querySelector('svg');\n    if (!svgElement) {\n      return '';\n    }\n    const serializer = new XMLSerializer();\n    return serializer.serializeToString(svgElement);\n  };\n  window.exportCurrentSvg = () => {\n    const svgElement = flowSvgHost.querySelector('svg');\n    if (!svgElement) {\n      return '';\n    }\n    const serializer = new XMLSerializer();\n    return serializer.serializeToString(svgElement);\n  };\n});\n\nfunction buildFlowSvg(flow: FlowToolSettings): string {\n  const flowScene = generateRadialFlowScene(flow);\n  const scaled = scaleScene(flowScene, 600, 600);\n  const strokeWidth = clamp(flow.lineWeight ?? 1.4, 0.4, 4);\n\n  return renderSceneToSvg(scaled, {\n    stroke: '#ffd7a1',\n    fill: 'none',\n    strokeWidth,\n    includeConstruction: true,\n    width: 600,\n    height: 600,\n  });\n}\n\nfunction getElement(id: string): HTMLElement {\n  const el = document.getElementById(id);\n  if (!el) {\n    throw new Error(`Missing element #${id}`);\n  }\n  return el;\n}\n\nfunction scaleScene(scene: OrnamentResult, width: number, height: number): OrnamentResult {\n  return {\n    root: {\n      ...scene.root,\n      transform: {\n        tx: width / 2,\n        ty: height / 2,\n        rotation: 0,\n        scaleX: width / 2,\n        scaleY: height / 2,\n      },\n    },\n    bounds: { x: 0, y: 0, width, height },\n  };\n}\n\nfunction createZoomController(target: HTMLElement) {\n  let scale = 1;\n  const min = 0.5;\n  const max = 3;\n\n  const apply = () => {\n    target.style.transform = `scale(${scale})`;\n  };\n\n  const step = (delta: number) => {\n    scale = clamp(scale + delta, min, max);\n    apply();\n  };\n\n  const fit = () => {\n    scale = 1;\n    apply();\n  };\n\n  apply();\n\n  return { step, fit, apply };\n}\n\nfunction clamp(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(max, value));\n}\n\n"],
  "mappings": "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",
  "names": ["clamp"]
}
